import React, { useState } from "react";
import "./styless.css";
import pro9Image from "../assets/proo.png";

const Promotion = () => {
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á array ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏Ñ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
  const coupons = [
    { price: 240, minOrder: 1600, expiryDate: "2024.10.31" },
    { price: 300, minOrder: 2000, expiryDate: "2024.11.15" },
    { price: 150, minOrder: 1200, expiryDate: "2024.10.20" },
    { price: 500, minOrder: 2500, expiryDate: "2024.12.01" },
  ];

  const [collectedCoupons, setCollectedCoupons] = useState([]); // ‡πÉ‡∏ä‡πâ array ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡πâ‡∏ß

  const handleCollectCoupon = (index) => {
    // ‡πÄ‡∏û‡∏¥‡πà‡∏° index ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏õ‡πÉ‡∏ô array
    setCollectedCoupons((prev) => [...prev, index]);
  };

  return (
    <div className="promotion-page">
      <h1 className="promotion-title">PROMOTION üéâ</h1>
      <p className="promotion-subtitle">
        ·¥á…¥·¥ä·¥è è ·¥áx·¥Ñ ü·¥úÍú±…™·¥†·¥á ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 50%!
      </p>

      <h1 className="promotion">‡∏•‡∏î‡∏Ñ‡∏∏‡πâ‡∏° üéâ</h1>
      <div className="promotion-box">
        <div className="promotion-container-customer">
          <p className="promotion-caption">‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á ‡∏ó‡∏∏‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏∑‡∏ô 00.00 ‡∏ô.</p>
          <button className="buy-customer1">‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á</button>
        </div>
      </div>

      {/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á */}
      <div className="coupon-container">
        {coupons.map((coupon, index) => (
          <div className="coupon-card" key={index}>
            <div className="coupon-content">
              <img src={pro9Image} alt="coupon" className="coupon-image" />
              <div className="coupon-text">
                <p className="coupon-price">‡∏ø{coupon.price}</p>
                <p className="coupon-details">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà ‡∏ø{coupon.minOrder}</p>
                <div className="divider"></div> {/* ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏µ‡∏î */}
                <p className="coupon-expiry">‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏: {coupon.expiryDate}</p>
              </div>
              {/* ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á */}
              <button
                className={`coupon-button ${collectedCoupons.includes(index) ? "used" : ""}`}
                onClick={() => handleCollectCoupon(index)} // ‡∏™‡πà‡∏á index ‡πÄ‡∏õ‡πá‡∏ô parameter
                disabled={collectedCoupons.includes(index)} // ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡πâ‡∏ß
              >
                {collectedCoupons.includes(index) ? "‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ" : "‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á"}
              </button>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

export default Promotion;
